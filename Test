<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title>تست ارسال پیام تلگرام</title>
</head>
<body style="direction: rtl; font-family: Tahoma, sans-serif; padding: 20px;">

  <h2>تست اتصال به تلگرام</h2>
  <button id="sendBtn">ارسال پیام تست به تلگرام</button>
  <p id="result" style="margin-top: 20px;"></p>

  <script>
    const sendBtn = document.getElementById("sendBtn");
    const result = document.getElementById("result");

    sendBtn.addEventListener("click", () => {
      fetch("https://api.telegram.org/bot8498305203:AAGTSIPm-EqhwXiYqMEGMdaTUCjwcVLE6g0/sendMessage", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: "64410546",
          text: "پیام تست ارسال شد ✅"
        })
      })
      .then(res => res.json())
      .then(data => {
        if(data.ok) {
          result.textContent = "✅ پیام با موفقیت ارسال شد.";
          result.style.color = "green";
        } else {
          result.textContent = "❌ خطا در ارسال پیام: " + (data.description || "نامشخص");
          result.style.color = "red";
          console.error(data);
        }
      })
      .catch(err => {
        result.textContent = "❌ خطا در اتصال به سرور تلگرام. شاید فیلترشکن خاموش است.";
        result.style.color = "red";
        console.error(err);
      });
    });
  </script>

</body>
</html>
